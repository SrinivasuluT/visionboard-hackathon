<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>Palette</title>
</head>
<body>
    <!-- body -->
    <input type="button" onclick="showFilePicker();" value="Search" />
    <div id="image_container">
    </div>
    <!-- scripts -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script type="text/javascript" src="http://api.filepicker.io/v1/filepicker.js"></script>
    <script type="text/javascript">
        filepicker.setKey('AE4sd80vQCeTrwQNqkQwxz');

        function showFilePicker() {
            filepicker.pick({
                mimetypes: ['image/*'],
                services:['IMAGE_SEARCH'],
                },
                function(FPFile){
                    addImage(FPFile);
                },
                function(FPError){
                    console.log(FPError.toString());
                    window.alert("Error: " + FPError.toString());
                }
            );
        }

        function addImage(FPFile) {
            console.log(JSON.stringify(FPFile));
            var newImg = $('<img src="' + FPFile.url + '/convert?w=200&h=200&fit=scale">');
            console.log(newImg);
            $('#image_container').append(newImg);
        }
    </script>
</body>
</html>